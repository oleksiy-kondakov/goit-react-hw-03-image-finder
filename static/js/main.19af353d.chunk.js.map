{"version":3,"sources":["Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/Button/Button.js","Components/Modal/Modal.js","services/image-finder-api.js","App.js","index.js"],"names":["Searchbar","state","query","handleChange","event","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","this","className","type","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","url","tag","src","alt","ImageGallery","images","map","id","webformatURL","Button","onClick","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleOnBackdropClick","target","window","addEventListener","removeEventListener","createPortal","children","axios","defaults","baseURL","params","key","image_type","orientation","imageFinderApi","fetchImages","a","searchQuery","currentPage","perPage","get","q","page","per_page","response","data","hits","App","isLoading","error","showModal","bigImageUrl","onChangeQuery","options","then","prevState","catch","finally","handleOnImageClick","nodeName","clickedImage","find","image","largeImageURL","toggleModal","prevProps","scrollTo","top","documentElement","scrollHeight","behavior","shouldRenderLoadMoreButton","length","color","height","width","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.19af353d.chunk.js","sourcesContent":["import { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport './Searchbar.scss';\n\nclass Searchbar extends Component {\n  state = { query: '' };\n\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  handleChange = event => {\n    this.setState({ query: event.currentTarget.value });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    const { query } = this.state;\n\n    if (query !== '') {\n      this.props.onSubmit(query);\n\n      this.setState({ query: '' });\n    }\n  };\n\n  render() {\n    const { query } = this.state;\n\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            value={query}\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;","import PropTypes from 'prop-types';\nimport './ImageGalleryItem.scss';\n\nconst ImageGalleryItem = ({ url, tag }) => (\n  <li className=\"ImageGalleryItem\">\n    <img src={url} alt={tag} className=\"ImageGalleryItem-image\" />\n  </li>\n);\n\nImageGalleryItem.propTypes = {\n  url: PropTypes.string.isRequired,\n  tag: PropTypes.string.isRequired,\n};\n\nexport default ImageGalleryItem;","import PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport './ImageGallery.scss';\n\nconst ImageGallery = ({ images, tag }) => (\n  <ul className=\"ImageGallery\">\n    {images.map(({ id, webformatURL }) => (\n      <ImageGalleryItem key={id} url={webformatURL} tag={tag} />\n    ))}\n  </ul>\n);\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n    }).isRequired,\n  ).isRequired,\n  tag: PropTypes.string.isRequired,\n};\n\nexport default ImageGallery;","import PropTypes from 'prop-types';\nimport './Button.scss';\n\nconst Button = ({ onClick }) => {\n  return (\n    <button type=\"button\" className=\"Button\" onClick={onClick}>\n      Load more\n    </button>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport './Modal.scss';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  static propTypes = {\n    onClose: PropTypes.func.isRequired,\n    children: PropTypes.node.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = event => {\n    if (event.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleOnBackdropClick = event => {\n    if (event.target === event.currentTarget) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className=\"Overlay\" onClick={this.handleOnBackdropClick}>\n        <div className=\"Modal\">{this.props.children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nexport default Modal;","import axios from 'axios';\n\nconst BASE_URL = 'https://pixabay.com/api';\nconst API_KEY = '19977012-bcc25ed08849b0efd207c01db';\n\naxios.defaults.baseURL = BASE_URL;\naxios.defaults.params = {\n  key: API_KEY,\n  image_type: 'photo',\n  orientation: 'horizontal',\n};\n\nconst fetchImages = async ({\n  searchQuery = '',\n  currentPage = 1,\n  perPage = 12,\n}) => {\n  const response = await axios.get('/', {\n    params: { q: searchQuery, page: currentPage, per_page: perPage },\n  });\n\n  return response.data.hits;\n};\n\nconst imageFinderApi = { fetchImages };\n\nexport default imageFinderApi;","import { Component } from 'react';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Searchbar from './Components/Searchbar';\nimport ImageGallery from './Components/ImageGallery';\nimport Button from './Components/Button';\nimport Modal from './Components/Modal';\nimport imageFinderApi from './services/image-finder-api';\n\nclass App extends Component {\n  state = {\n    images: [],\n    currentPage: 1,\n    searchQuery: '',\n    isLoading: false,\n    error: null,\n    showModal: false,\n    bigImageUrl: '',\n  };\n\n  componentDidMount() {\n    window.addEventListener('click', this.handleOnImageClick);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImages();\n    }\n\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('click', this.handleOnImageClick);\n  }\n\n  onChangeQuery = query => {\n    this.setState({\n      searchQuery: query,\n      currentPage: 1,\n      images: [],\n      error: null,\n      bigImageUrl: '',\n    });\n  };\n\n  fetchImages = () => {\n    const { currentPage, searchQuery } = this.state;\n    const options = { searchQuery, currentPage };\n\n    this.setState({ isLoading: true });\n\n    imageFinderApi\n      .fetchImages(options)\n      .then(images => {\n        this.setState(prevState => ({\n          images: [...prevState.images, ...images],\n          currentPage: prevState.currentPage + 1,\n        }));\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  handleOnImageClick = event => {\n    const { images, showModal } = this.state;\n\n    if (event.target.nodeName === 'IMG' && !showModal) {\n      const clickedImage = images.find(\n        image => image.webformatURL === event.target.src,\n      );\n\n      this.setState({ bigImageUrl: clickedImage.largeImageURL });\n      this.toggleModal();\n    }\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n  };\n\n  render() {\n    const {\n      images,\n      searchQuery,\n      isLoading,\n      showModal,\n      bigImageUrl,\n    } = this.state;\n    const shouldRenderLoadMoreButton = images.length > 0 && !isLoading;\n\n    return (\n      <div>\n        <Searchbar onSubmit={this.onChangeQuery} />\n\n        <ImageGallery images={images} tag={searchQuery} />\n\n        {isLoading && (\n          <Loader type=\"Circles\" color=\"#00BFFF\" height={80} width={80}/>\n        )}\n\n        {shouldRenderLoadMoreButton && <Button onClick={this.fetchImages} />}\n\n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img src={bigImageUrl} alt={searchQuery} width={1000} />\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nimport 'modern-normalize/modern-normalize.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);"],"sourceRoot":""}